(this["webpackJsonptodolist-ts"]=this["webpackJsonptodolist-ts"]||[]).push([[0],{117:function(t,e,a){"use strict";a.r(e);var n,c,o=a(0),i=a(24),r=a.n(i),s=(a(93),a(94),a(163)),l=a(164),u=a(160),d=a(165),j=a(162),O=a(166),b=a(153),f=a(158),p=a(159),D=a(13),h=a(154),T=a(150),k=a(2),I=Object(o.memo)((function(t){var e=Object(o.useState)(""),a=Object(D.a)(e,2),n=a[0],c=a[1],i=Object(o.useState)(!1),r=Object(D.a)(i,2),s=r[0],l=r[1],d=s&&Object(k.jsx)("div",{style:{color:"red"},children:"Title is required"}),j=function(){n?t.callBack(n):l(!0),c("")};return Object(k.jsxs)("div",{children:[Object(k.jsx)(h.a,{variant:"standard",color:"info",error:s,value:n,onChange:function(t){c(t.currentTarget.value.trim()),l(!1)},onKeyPress:function(t){"Enter"===t.key&&j()},helperText:s?d:" "}),Object(k.jsx)(u.a,{size:"small",color:"info",onClick:j,children:Object(k.jsx)(T.a,{})})]})})),L=Object(o.memo)((function(t){var e=Object(o.useState)(t.title),a=Object(D.a)(e,2),n=a[0],c=a[1],i=Object(o.useState)(!1),r=Object(D.a)(i,2),s=r[0],l=r[1];return s?Object(k.jsx)(h.a,{variant:"standard",value:n,autoFocus:!0,onBlur:function(){l(!1),t.callBack(n)},onChange:function(t){c(t.currentTarget.value.trim())}}):Object(k.jsx)("span",{onDoubleClick:function(){l(!0)},className:t.className,children:n})})),v=a(151),y=a(161),m=a(27),x=a(14),g=a(4),S=a(15),C=a(80),E=a.n(C);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={}));var A=E.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"642ef21e-b6f0-4355-8bfb-f882a3b3360e"}}),w=function(){return A.get("todo-lists/")},F=function(t){return A.post("todo-lists/",{title:t})},N=function(t){return A.delete("todo-lists/".concat(t))},K=function(t,e){return A.put("todo-lists/".concat(t),{title:e})},B=function(t){return A.get("todo-lists/".concat(t,"/tasks"))},R=function(t,e){return A.delete("todo-lists/".concat(t,"/tasks/").concat(e))},M=function(t,e){return A.post("todo-lists/".concat(t,"/tasks"),{title:e})},H=function(t,e,a){return A.put("todo-lists/".concat(t,"/tasks/").concat(e),Object(S.a)({},a))},P=function(t,e,a){return function(n,c){var o=c().tasks[t].find((function(t){return t.id===e}));if(o){var i=Object(S.a)({title:o.title,description:o.description,status:o.status,priority:o.priority,startDate:o.startDate,deadline:o.deadline},a);H(t,e,i).then((function(c){n({type:"UPDATE-TASK",payload:{todolistId:t,taskId:e,model:a}})}))}else console.warn("Task is not found")}},G=a(156),U=Object(o.memo)((function(t){return Object(k.jsxs)("div",{children:[Object(k.jsx)(G.a,{checked:t.status===n.Completed,onChange:function(e){return t.changeStatus(t.taskId,e)}}),Object(k.jsx)(L,{callBack:function(e){return t.updateTask(t.taskId,e)},title:t.title}),Object(k.jsx)(u.a,{onClick:function(){return t.removeTask(t.taskId)},children:Object(k.jsx)(v.a,{})})]},t.taskId)})),V=Object(o.memo)((function(t){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.tasks[t.toDoListID]}));Object(o.useEffect)((function(){var a;e((a=t.toDoListID,function(t){B(a).then((function(e){var n=e.data;t({type:"SET-TASKS",payload:{todolistId:a,tasks:n.items}})}))}))}),[]);var c=Object(o.useCallback)((function(a){e(function(t,e){return function(a){M(t,e).then((function(t){var e=t.data;a({type:"ADD-TASK",payload:{task:e.data.item}})}))}}(t.toDoListID,a))}),[e,t.toDoListID]),i=Object(o.useCallback)((function(a){e(function(t,e){return function(a){R(t,e).then((function(n){a({type:"REMOVE-TASK",payload:{todolistId:t,taskId:e}})}))}}(t.toDoListID,a))}),[e,t.toDoListID]),r=Object(o.useCallback)((function(a,n){e(P(t.toDoListID,a,{title:n}))}),[e,t.toDoListID]),s=Object(o.useCallback)((function(a,c){e(P(t.toDoListID,a,c.currentTarget.checked?{status:n.Completed}:{status:n.New}))}),[e,t.toDoListID]),l=Object(o.useCallback)((function(){return t.changeFilter(t.toDoListID,"all")}),[t.toDoListID,t.changeFilter]),d=Object(o.useCallback)((function(){return t.changeFilter(t.toDoListID,"active")}),[t.toDoListID,t.changeFilter]),O=Object(o.useCallback)((function(){return t.changeFilter(t.toDoListID,"completed")}),[t.toDoListID,t.changeFilter]),b=Object(o.useCallback)((function(e){return t.updateToDoListTitle(t.toDoListID,e)}),[t.updateToDoListTitle,t.toDoListID]),f=a;"active"===t.filter&&(f=a.filter((function(t){return t.status===n.New}))),"completed"===t.filter&&(f=a.filter((function(t){return t.status===n.Completed})));var p=f.map((function(t){return Object(k.jsx)(U,{taskId:t.id,title:t.title,status:t.status,changeStatus:s,updateTask:r,removeTask:i},t.id)}));return Object(k.jsxs)("div",{children:[Object(k.jsxs)("h3",{children:[Object(k.jsx)(L,{title:t.title,callBack:b}),Object(k.jsx)(u.a,{onClick:function(){return t.removeToDoList(t.toDoListID)},children:Object(k.jsx)(v.a,{})})]}),Object(k.jsx)(I,{callBack:c}),Object(k.jsx)("div",{children:p}),Object(k.jsxs)(y.a,{children:[Object(k.jsx)(j.a,{color:"secondary",variant:"all"===t.filter?"contained":"outlined",onClick:l,children:"All"}),Object(k.jsx)(j.a,{color:"primary",variant:"active"===t.filter?"contained":"outlined",onClick:d,children:"Active"}),Object(k.jsx)(j.a,{color:"success",variant:"completed"===t.filter?"contained":"outlined",onClick:O,children:"Completed"})]})]})})),z=function(){var t=Object(m.b)(),e=Object(m.c)((function(t){return t.toDoLists}));Object(o.useEffect)((function(){t((function(t){w().then((function(e){var a=e.data;t({type:"SET-TODOLIST",payload:{toDoLists:a}})}))}))}),[]);var a=Object(o.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",payload:{id:t,filter:e}}}(e,a))}),[t]),n=Object(o.useCallback)((function(e){t(function(t){return function(e){N(t).then((function(a){e({type:"REMOVE-TODOLIST",payload:{id:t}})}))}}(e))}),[t]),c=Object(o.useCallback)((function(e,a){t(function(t,e){return function(a){K(t,e).then((function(n){a(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",payload:{id:t,title:e}}}(t,e))}))}}(e,a))}),[t]),i=Object(o.useCallback)((function(e){t(function(t){return function(e){F(t).then((function(t){var a=t.data;e({type:"ADD-TODOLIST",payload:{toDoList:a.data.item}})}))}}(e))}),[t]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(f.a,{container:!0,style:{padding:"20px"},children:Object(k.jsx)(I,{callBack:i})}),Object(k.jsx)(f.a,{container:!0,spacing:3,children:e.map((function(t){return Object(k.jsx)(f.a,{item:!0,children:Object(k.jsx)(p.a,{style:{padding:"10px"},children:Object(k.jsx)(V,{toDoListID:t.id,title:t.title,filter:t.filter,changeFilter:a,removeToDoList:n,updateToDoListTitle:c},t.id)})},t.id)}))})]})};var J=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(s.a,{position:"static",children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(u.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(k.jsx)(b.a,{})}),Object(k.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),Object(k.jsx)(j.a,{color:"inherit",children:"Login"})]})}),Object(k.jsx)(O.a,{children:Object(k.jsx)(z,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(50),q=a(81),Y=Object(W.b)({toDoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.payload.id}));case"ADD-TODOLIST":return[Object(S.a)(Object(S.a)({},e.payload.toDoList),{},{filter:"all"})].concat(Object(x.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.payload.id?Object(S.a)(Object(S.a)({},t),{},{title:e.payload.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.payload.id?Object(S.a)(Object(S.a)({},t),{},{filter:e.payload.filter}):t}));case"SET-TODOLIST":return e.payload.toDoLists.map((function(t){return Object(S.a)(Object(S.a)({},t),{},{filter:"all"})}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(g.a)({},e.payload.todolistId,t[e.payload.todolistId].filter((function(t){return t.id!==e.payload.taskId}))));case"ADD-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(g.a)({},e.payload.task.todoListId,[e.payload.task].concat(Object(x.a)(t[e.payload.task.todoListId]))));case"UPDATE-TASK":return Object(S.a)(Object(S.a)({},t),{},Object(g.a)({},e.payload.todolistId,t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(S.a)(Object(S.a)({},t),e.payload.model):t}))));case"ADD-TODOLIST":return Object(S.a)(Object(S.a)({},t),{},Object(g.a)({},e.payload.toDoList.id,[]));case"REMOVE-TODOLIST":var a=Object(S.a)({},t);return delete a[e.payload.id],a;case"SET-TODOLIST":var n=Object(S.a)({},t);return e.payload.toDoLists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(S.a)(Object(S.a)({},t),{},Object(g.a)({},e.payload.todolistId,e.payload.tasks));default:return t}}}),$=Object(W.c)(Y,Object(W.a)(q.a));r.a.render(Object(k.jsx)(m.a,{store:$,children:Object(k.jsx)(J,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},93:function(t,e,a){},94:function(t,e,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.8302fa58.chunk.js.map